<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>LED Control</title>
</head>
<body>
    <h1>LED Control</h1>
    <form id="controlForm" action="/control" method="post">
        <button type="submit" name="action" value="on">Turn On</button>
        <button type="submit" name="action" value="off">Turn Off</button>
    </form>

    <script>
        async function controlLED(action) {
            const response = await fetch("/control", {
                method: "POST",
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded"
                },
                body: `action=${action}`
            });
            const result = await response.text();
            alert(result);
        }

        document.getElementById("controlForm").addEventListener("submit", function(event) {
            event.preventDefault();
            const action = event.submitter.value;
            controlLED(action);
        });
    </script>
</body>
</html>
